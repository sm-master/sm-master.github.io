<!DOCTYPE html>
<html lang="uk">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>SmartMaster — Будівельна компанія</title>
  <link rel="stylesheet" href="styles.css" />
</head>

<body>
  <header class="site-header">
    <div class="container header-content">
      <img src="logo.01.png" alt="SmartMaster Logo" class="logo" />
      <nav class="nav">
        <div class="burger" id="burger">
          <span></span>
          <span></span>
          <span></span>
        </div>
        <ul class="nav-list" id="nav-list">
          <li><a href="#services">Послуги</a></li>
          <li><a href="#portfolio">Приклади робіт</a></li>
          <li><a href="#contacts">Контакти</a></li>
        </ul>
        <button class="close-nav" id="closeNav">✖</button>
      </nav>
    </div>
    <h1 class="tagline">Міцні рішення. З першої цеглини до даху.</h1>
  </header>

  <main class="container">
    <section id="services">
      <h2>Наші послуги</h2>
      <ul class="services-list">
        <li>Ремонт квартир та будинків</li>
        <li>Утеплення фасадів</li>
        <li>Будівництво житлових будинків</li>
        <li>Монтаж та ремонт дахів</li>
        <li>Внутрішні оздоблювальні роботи</li>
        <li>Штукатурка, шпаклівка, фарбування</li>
        <li>Облицювання плиткою</li>
        <li>Демонтажні роботи</li>
      </ul>
    </section>

    <section id="portfolio">
      <h2>Наші роботи</h2>
      <div class="gallery">
        <img src="img/work1.jpg" alt="Робота 1">
        <img src="img/work2.jpg" alt="Робота 2">
        <img src="img/work3.jpg" alt="Робота 3">
        <img src="img/work4.jpg" alt="Робота 4">
      </div>
    </section>

    <section id="contacts">
      <h2>Контакти</h2>
      <p><strong>Телефон:</strong> +38 (098) 123-45-67</p>
      <p><strong>Email:</strong> smartmaster@company.ua</p>
      <p><strong>Адреса:</strong> м. Львів, вул. Будівельників, 12</p>

      <form id="contactForm" novalidate>
        <div class="form-group">
          <input type="text" name="name" placeholder="Ваше ім’я" required />
          <small class="error" id="nameError"></small>
        </div>
        <div class="form-group">
          <input type="email" name="email" placeholder="Email" required />
          <small class="error" id="emailError"></small>
        </div>
        <div class="form-group">
          <textarea name="message" placeholder="Ваше повідомлення" required></textarea>
          <small class="error" id="messageError"></small>
        </div>
        <button type="submit">Надіслати</button>
        <p id="formStatus"></p>
      </form>
    </section>
  </main>

  <footer class="site-footer">
    <p>© 2025 SmartMaster. Всі права захищено.</p>
  </footer>

  <!-- Кнопка вгору -->
  <button id="toTopBtn" title="Вгору">
    <svg width="24" height="24" viewBox="0 0 24 24">
      <circle cx="12" cy="12" r="11" stroke="white" stroke-width="2" fill="#d45500" />
      <polyline points="8,14 12,10 16,14" fill="none" stroke="white" stroke-width="2" stroke-linecap="round"
        stroke-linejoin="round" />
    </svg>
  </button>

  <!-- Скрипти -->
  <script>
    // Бургер-меню
    const burger = document.getElementById('burger');
    const navList = document.getElementById('nav-list');
    const closeNav = document.getElementById('closeNav');
    const body = document.body;

    burger.addEventListener('click', () => {
      navList.classList.add('active');
      closeNav.classList.add('show');
      body.classList.add('no-scroll');
    });

    closeNav.addEventListener('click', () => {
      navList.classList.remove('active');
      closeNav.classList.remove('show');
      body.classList.remove('no-scroll');
    });

    document.addEventListener('click', (e) => {
      if (!e.target.closest('.nav') && navList.classList.contains('active')) {
        navList.classList.remove('active');
        closeNav.classList.remove('show');
        body.classList.remove('no-scroll');
      }
    });

    // Кнопка "Вгору"
    const toTopBtn = document.getElementById('toTopBtn');
    window.addEventListener('scroll', () => {
      toTopBtn.style.display = window.scrollY > 300 ? 'block' : 'none';
    });
    toTopBtn.addEventListener('click', () => {
      window.scrollTo({ top: 0, behavior: 'smooth' });
    });

    // Відправка форми з перевіркою та повідомленнями
    document.getElementById('contactForm').addEventListener('submit', async function (e) {
    e.preventDefault();

    const form = e.target;
    const formData = new FormData(form);
    const status = document.getElementById('formStatus');

    // Очистка старих помилок
    ['nameError', 'emailError', 'messageError'].forEach(id => {
      const el = document.getElementById(id);
      el.textContent = '';
      el.style.display = 'none';
    });

    status.textContent = '';
    status.style.color = '';

    try {
      const response = await fetch('contact.php', {
        method: 'POST',
        body: formData
      });

      const data = await response.json();

      if (!response.ok || !data.success) {
        if (data.errors) {
          if (data.errors.name) showError('nameError', data.errors.name);
          if (data.errors.email) showError('emailError', data.errors.email);
          if (data.errors.message) showError('messageError', data.errors.message);
        } else if (data.message) {
          status.textContent = data.message;
          status.style.color = 'red';
        }
      } else {
        status.textContent = data.message;
        status.style.color = 'green';
        form.reset();
      }
    } catch (error) {
      status.textContent = 'Помилка з’єднання з сервером.';
      status.style.color = 'red';
    }

    function showError(id, msg) {
      const el = document.getElementById(id);
      el.textContent = msg;
      el.style.display = 'block';
    }
  });
  </script>
</body>

</html>